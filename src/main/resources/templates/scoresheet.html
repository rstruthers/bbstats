<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout/default">
<head lang="en">
<title>Scoresheet</title>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous"/>

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous"/>

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

<link rel="stylesheet" type="text/css" href="C:\dev-tools\git-checkout\bbstats\src\main\webapp\css\bbstats.css"/>

</head>
<body>

<div class="container" layout:fragment="content">
	<p><b>Teams:</b>
	<span th:text="${scoresheet.visitingTeam.location}">Location</span> <span th:text="${scoresheet.visitingTeam.name}">Name</span> at
	<span th:text="${scoresheet.homeTeam.location}">Location</span> <span th:text="${scoresheet.homeTeam.name}">Name</span>
	</p>
	<p><b>Date:</b> <span th:text="${scoresheet.formattedGameDate}">Date</span></p>
	<p><b>Visitor: </b><span th:text="${scoresheet.visitingTeam.location}">Location</span> <span th:text="${scoresheet.visitingTeam.name}">Name</span></p>
	<form th:action="@{/scoresheet}" method="post" th:object="${form}">
		<input th:field="${form.id}" type="hidden" class="form-control"/>
		<table class="table table-bordered">
		<thead>
			<tr>
				<th>Lineup order</th>
				<th>Name</th>
			</tr>
		</thead>
		<tbody>
			<span th:each="vlineupOrder,status : ${form.lineupOrders}" th:for="|vlineupOrder${status.index}|"  th:remove="tag">
			   <span th:each="vplayer,status2 : ${vlineupOrder.scoresheetPlayers}" th:for="|vplayer${status2.index}|" th:remove="tag">
				   <tr>
					   <td>
					    	<span th:text="${vlineupOrder.lineupOrderPosition}">1</span>
					    	<button type="button" name="action"
					    	th:value="'vp:' + ${vlineupOrder.lineupOrderPosition} + ':' +  __${status2.index}__">
					    	  Add
					    	 </button>
					    	<button type="button" name="action"
					    	th:value="'delete_vp:' + ${vlineupOrder.lineupOrderPosition} + ':' +  __${status2.index}__">
					    	  Delete
					    	 </button>
					   </td>
					   <td>
					    	<select  class="form-control" th:field="*{lineupOrders[__${status.index}__].scoresheetPlayers[__${status2.index}__].playerId}">
				                <option value="">Select</option>
				                <option th:each="vpd : ${visitingPlayersDropdown}" th:value="${vpd.id}"  th:text="${vpd.name}"></option>
				            </select>
				       </td>
			       </tr>
			   </span>
			</span>
		<!-- 
			<tr th:each="vplayer,status : ${form.visitingPlayers}" th:for="|vplayer${status.index}|">
			    <td>
			    	<span th:text="${vplayer.lineupOrder}">1</span>
			    	<button type="button" name="action"
			    	th:value="'vp:' + *{visitingPlayers[__${status.index}__].lineupOrder} + ':' + *{visitingPlayers[__${status.index}__].lineupOrderIndex}">
			    	  Add
			    	 </button>
			    	 <button type="button" name="action"
			    	th:value="'delete_vp:' + *{visitingPlayers[__${status.index}__].lineupOrder} + ':' + *{visitingPlayers[__${status.index}__].lineupOrderIndex}">
			    	  Delete
			    	 </button>
			    </td>
				<td>
					<select  class="form-control" th:field="*{visitingPlayers[__${status.index}__].playerId}">
		                <option value="">Select</option>
		                <option th:each="vpd : ${visitingPlayersDropdown}" th:value="${vpd.id}"  th:text="${vpd.name}"></option>
		            </select>
		            <input th:field="*{visitingPlayers[__${status.index}__].lineupOrder}" type="hidden" class="form-control"/>
		            <input th:field="*{visitingPlayers[__${status.index}__].lineupOrderIndex}" type="hidden" class="form-control"/>
				</td>
			</tr>
		-->
		</tbody>
		</table>
		<p><b>Home: </b><span th:text="${scoresheet.homeTeam.location}">Location</span> <span th:text="${scoresheet.homeTeam.name}">Name</span></p>
		<div class="form-actions">
			<button class="btn btn-primary btn-lg" style="padding-left: 20px; padding-right: 20px;" type="submit"
				name="action">Submit</button>
		</div>
	</form>
</div>

</body>
</html>